<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"services_modal.js.html":{"id":"services_modal.js.html","title":"Source: services/modal.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: services/modal.js /*global app: false, Backbone: false, JST: false, $: false, require: false*/ /** * @fileoverview Modal Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @author luis novo * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; // Declares local variables var alert, timeout, modal = { /** * Listens for modal event * @listens app.mediator#modal * @param {string} text Text to show * @param {string} alertType class to be applied to the alert element */ onModal: function (text, alertType) { // Creates the modal div if it doesn't exists if (!alert) { alert = document.createElement('div'); alert.className = 'modal alert ' + alertType; $('body')[0].appendChild(alert); } // Sets the text to the alert and sets the class to active alert.textContent = text; // Sets the animation setTimeout(function () { // Adds the active class alert.classList.add('active'); // if a timeoput was already set it clears it if (timeout) { clearTimeout(timeout); } // then it sets a nex timeout to take off the alert timeout = setTimeout(function () { alert.parentNode.removeChild(alert); alert = null; }, 2000); }, 0); } }; /** * Modal event, for alerts. * * @event app.mediator#modal * @param {string} text Text to show * @param {string} alertType class to be applied to the alert element */ root.app.mediator.on('modal', modal.onModal); }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.js.html":{"id":"app.js.html","title":"Source: app.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: app.js /*global app: false, Backbone: false, JST: false, $: false, require: false*/ /** * @fileoverview Application Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @author luis novo * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; /** * Application Namespace. * * @namespace app */ /* istanbul ignore next */ root.app = root.app || {}; /** * Views Namespace. * * @namespace view * @memberof app */ root.app.view = {}; /** * Modules Namespace. * * @namespace mod * @memberof app */ root.app.mod = {}; var app = root.app; /** * Router Extended for this app. * * @name Router * @class Backbone Router * @augments Backbone.Router * @memberof app */ app.Router = Backbone.Router.extend( /** * @lends Router.prototype */ { /** * Defines the main routes of the app * We have one fixed route, the home / route * And then a dynamic route, which loads modules dynamically (based on a namespace) * @memberof app.Router * @type {object.&lt;string, string&gt;} * @property {string} '' Function name to default route * @property {string} '*actions' Function name to any other action */ routes: { '': 'main', '*actions': 'goToPage' }, /** * Load the home page route * @memberof app.Router */ main: function () { app.slider.show(new app.mod.home.View()); }, /** * Goes to a page with a certain id * @param {string} id page id * @memberof app.Router * @fires app.mediator#modal if page is not found */ goToPage: function (id) { // if the id is the menu var mod = app.mod[id]; // if rhe view exists, it shows it if (mod) { app.slider.show(new mod.View()); } else { // if not, it notifies the user that the module does not exists app.mediator.fire('modal', [' The module &quot;' + id + '&quot; does not exists']); } } } ); }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"core_appParameters.js.html":{"id":"core_appParameters.js.html","title":"Source: core/appParameters.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: core/appParameters.js /*global app: false, Backbone: false, JST: false, $: false, console: false */ /** * @fileoverview AppParameters Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; /** * @namespace appParameters * @memberof app * @property {object} config configuration parameters * @property {string} config.appName application name, accessible from code * @property {string} config.version application version, accessible from code */ var appParameters = { config: { appName: &quot;11_taxi_reservation&quot;, version: &quot;2.0.0&quot; } }; // Sets the appParameters object on the app namespace /* istanbul ignore next */ root.app = root.app || {}; root.app.appParameters = appParameters; }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"core_core.js.html":{"id":"core_core.js.html","title":"Source: core/core.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: core/core.js /*global app: false, Backbone: false, JST: false, $: false, root: false */ /** * @fileoverview Core Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; /** * @namespace core * @description Core Functions * @memberof app */ var core = { /** * Load a page, can be `backed` * @param {string} page Page Id, with or without # * @memberof app.core */ load: function (page) { if (page &amp;&amp; typeof page === &quot;string&quot; &amp;&amp; page !== &quot;&quot;) { if (page[0] === &quot;#&quot;) { root.location.href = page; } else { root.location.href = &quot;#&quot; + page; } } }, /** * Replace a page, overriding the actual page (back occours as the previous page never existed) * @param {string} page Page Id, with or withou # * @memberof app.core */ replace: function (page) { if (page &amp;&amp; typeof page === &quot;string&quot; &amp;&amp; page !== &quot;&quot;) { if (page[0] === &quot;#&quot;) { root.location.replace(page); } else { root.location.replace(&quot;#&quot; + page); } } }, /** * Calls window.print() * @memberof app.core */ print: function () { root.print(); } }; // Sets the object on the app namespace /* istanbul ignore next */ root.app = root.app || {}; root.app.core = core; }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"init.js.html":{"id":"init.js.html","title":"Source: init.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: init.js /*global app: false, Backbone: false, JST: false, $: false, root: false */ /** * @name init.js * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @fileoverview Bootstraps the application * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; /** * Initializer for DI in test env * * @namespace initializer * @memberof app */ root.app.initializer = { /** * init image cache * @memberof app.initializer */ cache: function () { var img; root.app.image_cache = []; img = new Image(); img.src = &quot;img/btn-bottom.png&quot;; root.app.image_cache.push(img); img = new Image(); img.src = &quot;img/btn-bottomhover.png&quot;; root.app.image_cache.push(img); img = new Image(); img.src = &quot;img/btn-bottom-other.png&quot;; root.app.image_cache.push(img); img = new Image(); img.src = &quot;img/btn-bottomhover-other.png&quot;; root.app.image_cache.push(img); img = new Image(); img.src = &quot;img/background.png&quot;; root.app.image_cache.push(img); }, /** * init offline data * @memberof app.initializer */ data: function () { return; }, /** * init system * @memberof app.initializer */ system: function () { /** * @name header * @memberof app * @description instance of {@link app.view.Header|Header} * @inner * @see app.view.Header */ root.app.view.header = new app.view.Header({ el: '.bar' }); /** * @name footer * @memberof app * @description instance of {@link app.view.Footer|Footer} * @inner * @see app.view.Footer */ root.app.view.footer = new app.view.Footer({ el: '.footer' }); /** * @name slider * @memberof app * @description instance of {@link app.view.Slider|Slider} * @inner * @see app.view.Slider */ root.app.slider = new app.view.Slider({ el: '.wrap' }); /** * @name slider * @memberof app * @description instance of {@link app.Router|Router} * @inner * @see app.Router */ root.app.router = new app.Router(); // Starts the backbone app Backbone.history.start(); } }; // Check if it is has a tests namespace /* istanbul ignore if */ if (!root.tests) { // on the DOM Load starts the applciation router $(function () { root.app.initializer.cache(); root.app.initializer.data(); root.app.initializer.system(); }); } }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"core_mediator.js.html":{"id":"core_mediator.js.html","title":"Source: core/mediator.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: core/mediator.js /** * @fileoverview Mediator Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @author luis novo * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; /** * @namespace mediator * @description Mediator for Backbone * @memberof app */ var calls = {}, mediator = { /** * Subscribes to a call * @param {string} method Name of the method to subscribe * @param {function} callback Funciton to call when we fire the event * @param {object} scope Context to which to bind the callback * @memberof app.mediator */ on: function (method, callback, scope) { // if the method is not yet created, initializes an array if (!calls[method]) { calls[method] = []; } // adds the listener calls[method].push({ callback: callback, scope: scope }); }, /** * Unsuscribes from a call * @param {string} method Name of the method to subscribe * @param {function} callback Funciton to call when we fire the event * @param {object} scope Context to which to bind the callback * @memberof app.mediator */ un: function (method, callback) { // Declares the local vars var m = calls[method], i, l; // if the method has listeners if (m) { // Quries the listeners to try to find a callback l = m.length; for (i = l - 1; i &gt;= 0; i -= 1) { // if found it is removed from the array if (m[i].callback === callback) { m.splice(i, 1); } } } }, /** * Fires a method call with a series or agruments * @param {string} method Name of the method to fire * @param {array} args Arguments to attach to the event * @memberof app.mediator */ fire: function (method, args) { var m = calls[method], i, l; // Searches the method and then calls all the listeners if (m) { l = m.length; for (i = 0; i &lt; l; i += 1) { m[i].callback.apply(m[i].scope || null, args || []); } } } }; // Sets the mediator object on the app namespace /* istanbul ignore next */ root.app = root.app || {}; root.app.mediator = mediator; }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"views_footer.js.html":{"id":"views_footer.js.html","title":"Source: views/footer.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: views/footer.js /*global app: false, Backbone: false, JST: false, $: false, require: false*/ /** * @fileoverview Footer Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @author luis novo * @version 2.0.0 */ (function () { &quot;use strict&quot;; /** * Footer View. * * @name Footer * @class Footer View * @augments Backbone.View * @memberof app.view */ app.view.Footer = Backbone.View.extend( /** * @lends View.prototype */ { /** * Button1 representation * @memberof app.view.Footer * @property {function} callback event to fire when click * @property {string} nextPage page id to go when click */ button1Info: { callback: null, nextPage: null }, /** * Button2 representation * @memberof app.view.Footer * @property {function} callback event to fire when click * @property {string} nextPage page id to go when click */ button2Info: { callback: null, nextPage: null }, /** * initializes the footer view * @memberof app.view.Footer */ initialize: function () { /** * @event app.mediator#viewchangefooter * @param {boolean} enable check if the footer is enabled (and visible) * @param {object} btn2Info Information about btn1 * @param {object} btn1Info Information about btn2 */ app.mediator.on('viewchangefooter', this.onViewChange, this); }, /** * Enable footer and configure buttons label, next page and function to be executer on button * @param {boolean} enable check if the footer is enabled (and visible) * @param {object} btn2Info Information about btn1 * @param {object} btn1Info Information about btn2 * @listens app.mediator#viewchangefooter * @memberof app.view.Footer */ onViewChange: function (enable, btn2Info, btn1Info) { var $btn1, $btn2, $footer = $(this.$el[0]), $btn1Label, $btn2Label; if (!enable) { $footer.addClass('hide'); } else { this.button1Info = btn1Info; this.button2Info = btn2Info; $btn1 = $(&quot;.btn1&quot;, this.$el[0]); $btn2 = $(&quot;.btn2&quot;, this.$el[0]); $btn1Label = $(&quot;label&quot;, $btn1); $btn2Label = $(&quot;label&quot;, $btn2); $btn1.removeClass('hide'); $btn2.removeClass('hide'); if (btn1Info === null || btn1Info === undefined) { $btn1.addClass('hide'); } else { $btn1Label.text(app.strings.labelList[btn1Info.keyLabel]); } if (btn2Info === null || btn2Info === undefined) { $btn2.addClass('hide'); } else { $btn2Label.text(app.strings.labelList[btn2Info.keyLabel]); } if (btn1Info !== null &amp;&amp; btn2Info !== null &amp;&amp; btn1Info !== undefined &amp;&amp; btn2Info !== undefined) { $footer.addClass('footerSplit'); $footer.removeClass('footerSolo'); } else { $footer.addClass('footerSolo'); $footer.removeClass('footerSplit'); } $footer.removeClass('hide'); } }, /** * Events * @memberof app.view.Footer * @type {object.&lt;string, string&gt;} * @property {string} ['mouseup .btn1'] event to fire when click * @property {string} ['mouseup .btn2'] event to fire when click */ events: { 'mouseup .btn1': 'onButton', 'mouseup .btn2': 'onButton' }, /** * When the button 1 is clicked change to hover and after some time goes to next screen * @param {object} e element clicked * @listens app.view.Footer#mouseup * @memberof app.view.Footer */ onButton: function (e) { var $target = $(e.currentTarget), buttonInfo; e.preventDefault(); if ($target.hasClass('btn1')) { buttonInfo = this.button1Info; } else if ($target.hasClass('btn2')) { buttonInfo = this.button2Info; } if (buttonInfo.callback !== null &amp;&amp; buttonInfo.callback !== undefined) { buttonInfo.callback(); } if (buttonInfo.nextPage !== null &amp;&amp; buttonInfo.nextPage !== undefined) { window.location.href = buttonInfo.nextPage; } } } ); }()); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"views_header.js.html":{"id":"views_header.js.html","title":"Source: views/header.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: views/header.js /*global app: false, Backbone: false, JST: false, $: false, require: false*/ /** * @fileoverview Header Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @author luis novo * @version 2.0.0 */ (function () { &quot;use strict&quot;; /** * Header View. * * @name Header * @class Header View * @augments Backbone.View * @memberof app.view */ app.view.Header = Backbone.View.extend( /** * @lends View.prototype */ { /** * Used when there is a need to back to a specific place * @memberof app.view.Header */ backTo: null, /** * initializes the header view * @memberof app.view.Header */ initialize: function () { /** * @event app.mediator#viewchangeheader * @param {collection} title Title Zepto nodes * @param {collection} back Back button */ app.mediator.on('viewchangeheader', this.onViewChange, this); }, /** * Declares the event listeners * @type {object.&lt;string, string&gt;} * @property {string} ['mouseup .back'] event to fire when click * @memberof app.view.Header */ events: { 'mouseup .back': 'goBack' }, /** * Sets the title of the header (and the back button if set) when a view changes * @param {collection} title Title Zepto nodes * @param {collection} back Back button * @listens app.mediator#viewchangeheader * @memberof app.view.Header */ onViewChange: function (title, back) { var label, $title = $(&quot;.title&quot;, this.$el[0]), $back = $(&quot;.back&quot;, this.$el[0]); label = app.strings.labelList[title]; // Sets the title of the header $title.text((label !== undefined) ? label : title); // If the back button is passed, it shows it or hides if (back) { $back.removeClass('hide'); } else { $back.addClass('hide'); } }, /** * function fired when the goback arrow was clicked * @listens app.view.Header#mouseup * @memberof app.view.Header */ goBack: function () { history.back(); } } ); }()); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"core_pos.js.html":{"id":"core_pos.js.html","title":"Source: core/pos.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: core/pos.js /*global app: false, Backbone: false, JST: false, $: false, root: false, telium: false, console: false, tetra: false */ /** * @fileoverview PoS Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; /** * @namespace pos * @description PoS abstract function * @memberof app */ var pos = { /** * @property {value} timeout Timer for polling * @memberof app.pos */ timeout: null, /** * @property {service} chipService Contact Chip Service * @memberof app.pos */ chipService: tetra.service({ service: 'local.device.chip0', namespace: 'ingenico.device.chip' }), /** * @property {service} loyaltyService Loyalty Service * @memberof app.pos */ loyaltyService: tetra.service({ service: 'local.loyalty.engine', namespace: 'ingenico.demo' }), // Note by Danilo: At the TetraJS docs, the namespace has an uppercase 'i' in 'ingenico' // but the right way is 'i' in lowercase. /** * @property {service} transacService EMV Transaction Service * @memberof app.pos */ transacService: tetra.service({ service: 'local.transaction.engine', namespace: 'ingenico.transaction' }), /** * @property {service} contactLessService Contactless Service * @memberof app.pos */ contactLessService: tetra.service({ // Instantiate service service: 'local.device.contactless0', namespace: 'ingenico.device.contactless' }), /** * Read the card. * @param {integer} value Value to be charged, in units * @param {function} [callback] Executed on finished * @memberof app.pos */ doTransaction: function (value, callback, error) { var that = this; that.transacService .reset() .disconnect() .connect() .close() .open() .call('ManageTransaction', { hide: true, data: { transaction: { currency: { code: root.app.strings.labelList.KEY_CURRENCY, numCode: root.app.strings.labelList.KEY_CURRENCY_CODE, minorUnit: root.app.strings.labelList.KEY_CURRENCY_MINOR_UNIT, minorUnitSeparator: root.app.strings.labelList.KEY_CURRENCY_SEPARATOR, thousandSeparator: root.app.strings.labelList.KEY_CURRENCY_SEPARATOR_THOUSAND, position: root.app.strings.labelList.KEY_CURRENCY_DIRECTION, symbol: root.app.strings.labelList.KEY_CURRENCY_SYMBOL }, value: value, transactionType: 'Payment' }, mean: 'CHIP_CARD' } }) .success(function () { if (callback &amp;&amp; typeof callback === &quot;function&quot;) { callback(true); } }) .error(function () { //Callback for operation completed if (callback &amp;&amp; typeof callback === &quot;function&quot;) { if (error &amp;&amp; typeof error === &quot;function&quot;) { error(); } else { callback(false); } } }) .disconnect(); }, /** * Wait until the card inserted. * @param {function} [callback] Executed on finished * @memberof app.pos */ startDetectChip: function (callback) { var that = this; /*** START LISTENNING ***/ that.chipService .reset() .disconnect() .connect() .close() .open() .on('ChipDetectedEvent', function () { // Listen to ChipDetectedEvent // Stop Listening that.stopDetectChip(); if (callback &amp;&amp; typeof callback === &quot;function&quot;) { callback(); } }) .call('Start', { data: { timeout: 10000 } }); that.timeout = setTimeout(function () { // Set 10 sec timeout (Work) that.startDetectChip(); //Call readCard every 10 sec }, 10000); }, /** * Stop waiting for a chip insertion event * @memberof app.pos */ stopDetectChip: function () { clearTimeout(this.timeout); this.timeout = undefined; this.chipService .reset() .connect() .call('Stop') .disconnect(); this.chipService.off(); }, /** * Just check if the card is present * @param {function} [callback] Executed on finished * @memberof app.pos */ isCardPresent: function (callback) { /*** START LISTENNING ***/ this.chipService .reset() .disconnect() .connect() .close() .open() .call('IsCardPresent') .success(function (data) { if (callback &amp;&amp; typeof callback === &quot;function&quot;) { callback(data.chipPresent === 1); } }); }, /** * Read the loyalty card. * @param {function} callback Executed on finished * @param {function} [error] Executed on error * @memberof app.pos */ readLoyaltyCard: function (callback, error) { this.loyaltyService .reset() .connect() .call('ReadInfo') .success(function (data) { if (callback &amp;&amp; typeof callback === &quot;function&quot;) { callback(true, data); } }) .error(function () { if (callback &amp;&amp; typeof callback === &quot;function&quot;) { if (error &amp;&amp; typeof error === &quot;function&quot;) { error(); } else { callback(false); } } }) .disconnect(); }, /** * Get a Voucher with NFC * @param {function} callback callback to success * @param {function} [error] callback to error * @memberof app.pos */ startDetectNFC: function (callback, error) { var that = this; that.contactLessService .reset() // Reset service .disconnect() // Disconnect from service .connect() // Connect to service .close() // Close service .open() // Open service .on('ClessDetectedEvent', function () { // Listen to ClessDetectedEvent var voucher = null; that.stopDetectNFC(); if (callback &amp;&amp; typeof callback === &quot;function&quot;) { voucher = { voucherID: 2010, status: true, value: 1000, voucherValue: 1000, used: false }; callback(voucher); } }) .call('StartDetection', { data: { timeout: 5000 } }) // Call start detection method .then(undefined, error); that.timeout = setTimeout(function () { // Set 10 sec timeout (Work) that.startDetectNFC(); //Call readCard every 10 sec }, 5000); }, /** * Cancel the NFC reading * @memberof app.pos */ stopDetectNFC: function () { clearTimeout(this.timeout); this.timeout = undefined; this.contactLessService .reset() .connect() .call('Stop') .disconnect(); this.contactLessService.off(); }, /** * Wait a payment by Smartphone * It is a fake function, for now * @param {function} callback callback to when the service responds with data about the transaction * @memberof app.pos */ waitPaymentBySmartphone: function (callback) { setTimeout(callback, 3000); } }; // Sets the pos object on the app namespace /* istanbul ignore next */ root.app = root.app || {}; root.app.pos = pos; }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"core_strings.js.html":{"id":"core_strings.js.html","title":"Source: core/strings.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: core/strings.js /** * @fileoverview Strings Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; // If the app namespace is not set, set it. /* istanbul ignore next */ root.app = root.app || {}; var language = navigator.language, /** * @namespace strings * @description String list for i18n * @memberof app */ strings = { /** * @description Transation cache * @type {Object.&lt;string, string&gt;} * @memberof app.strings */ labelList: [], /** * @description Could have more properties, for more languages * @typedef {object} Translatable * @property {string} key Key Text (to be replaced) * @property {string} pt Text in portuguese (generic) * @property {string} en Text in english (generic) */ /** * @type {Translatable[]} * @memberof app.strings */ translationList: [ /* Currency related info, according to ISO 4217 table (https://en.wikipedia.org/wiki/ISO_4217) */ { key: 'KEY_CURRENCY_SYMBOL', pt: 'R$', en: '$' }, { key: 'KEY_CURRENCY_CODE', pt: 986, en: 840 }, { key: 'KEY_CURRENCY_MINOR_UNIT', pt: 2, en: 2 }, { key: 'KEY_CURRENCY_SEPARATOR', pt: ',', en: '.' }, { key: 'KEY_CURRENCY_SEPARATOR_THOUSAND', pt: '', en: ',' }, { key: 'KEY_CURRENCY', pt: 'BRL', en: 'USD' }, { key: 'KEY_CURRENCY_DIRECTION', pt: 'ltr', en: 'rtl' }, { key: 'KEY_CURRENCY_DIRECTION_EXT', pt: 'CURRENCY_BEFORE_AMOUNT', en: 'AMOUNT_BEFORE_CURRENCY' }, { key: 'KEY_HOME_TTL', pt: 'Sua localização', en: 'Your location' }, { key: 'KEY_CHOOSE_OTHER', pt: 'Escolha outra', en: 'Choose other' }, { key: 'KEY_USE_CURRENT', pt: 'Use essa', en: 'Use this' }, { key: 'KEY_LOCATION', pt: 'localização', en: 'location' }, { key: 'KEY_LOADING', pt: 'Carregando...', en: 'Loading...' }, { key: 'KEY_SEARCH_LOCATION_TTL', pt: 'Procurar Localização', en: 'Search Location' }, { key: 'KEY_TEXT_SEARCH_LOCATION', pt: 'Insira o endereço', en: 'Insert address' }, { key: 'KEY_CONFIRM', pt: 'Confirmar', en: 'Confirm' }, { key: 'KEY_SEARCH_DESTINATION_TTL', pt: 'Procurar Destino', en: 'Search Destination' }, { key: 'KEY_TEXT_DESTINATION', pt: 'Insira o endereço destino', en: 'Insert destination address' }, { key: 'KEY_SEARCH', pt: 'Procurar', en: 'Search' }, { key: 'KEY_ROUTE', pt: 'rota', en: 'route' }, { key: 'KEY_SEARCHING_TTL', pt: 'Procurando Rota', en: 'Searching Route' }, { key: 'KEY_TEXT_SEARCHING', pt: 'Procurando...', en: 'Searching...' }, { key: 'KEY_CHECK_LOCATION_TTL', pt: 'Verificar Localização', en: 'Check Location' }, { key: 'KEY_ADDRESSES', pt: 'endereços', en: 'addresses' }, { key: 'KEY_CONFIRM_INFORMARION_TTL', pt: 'Confirmar informações', en: 'Confirm ride information' }, { key: 'KEY_REQUEST_TAXI', pt: 'Pedir taxi', en: 'Request taxi' }, { key: 'KEY_AND_PAY', pt: 'e pagar', en: 'and pay' }, { key: 'KEY_INITIAL_LOCATION', pt: 'Local de partida', en: 'Initial location' }, { key: 'KEY_DESTINATION', pt: 'Destino', en: 'Destination' }, { key: 'KEY_FARE', pt: 'Tarifa', en: 'Fare' }, { key: 'KEY_DERATTURE_TIME', pt: 'Hora de partida', en: 'Departure time' }, { key: 'KEY_RECEIPT_TTL', pt: 'Recibo', en: 'Receipt' }, { key: 'KEY_PRINT', pt: 'Imprimir', en: 'Print' }, { key: 'KEY_SKIP', pt: 'Pular', en: 'Skip' }, { key: 'KEY_RECEIPT', pt: 'recibo', en: 'receipt' }, { key: 'KEY_RESERVATION_NUMBER', pt: 'Número da reserva', en: 'Reservation number' }, { key: 'KEY_ENJOY_YOUR_RIDE', pt: 'Aproveite sua corrida', en: 'Enjoy your ride' }, { key: 'KEY_NOT_FOUND', pt: 'Destino ou Origem Não Encontrado.', en: 'Destination or Origin Not Found.' }, { key: 'KEY_INVALID_DESTINATION', pt: 'Destino inválido. Não deve ser igual ao local de origem.', en: 'Invalid destination. It must not be equal to origin location.' }, { key: 'KEY_EMPTY_DESTINATION', pt: 'Destino inválido. Não deve estar em branco.', en: 'Invalid destination. It must not be blank.' }, { key: 'KEY_TRANSACTION_ERROR', pt: 'A transação falhou, por favor tente novamente.', en: 'Transaction failed, please try again', fr: &quot;La transaction a échoué, s'il vous plaît essayez à nouveau&quot; }, { key: 'KEY_ZERO_RESULTS', pt: 'Não há rotas entre estes dois locais.', en: 'There is no route between those places.' } ], /** * Load labelList from a given language * @param {string} language language code (like pt-BR) to be loaded * @memberof app.strings */ load: function (language) { var i = 0; // English is fallback for (i = 0; i &lt; this.translationList.length; i += 1) { this.labelList[this.translationList[i].key] = this.translationList[i][language] || this.translationList[i][language.substr(0, 2)] || this.translationList[i].en; } } }; // Sets the mediator object on the app namespace root.app.strings = strings; // Load the specified language from translationList root.app.strings.load(language); }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"core_stringtable.js.html":{"id":"core_stringtable.js.html","title":"Source: core/stringtable.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: core/stringtable.js /*global app: false, Backbone: false, JST: false, $: false, require: false*/ /** * @fileoverview Stringtable Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @version 2.0.0 */ (function (root) { &quot;use strict&quot;; /** * @namespace stringtable * @description String Translation Methods * @memberof app */ var stringtable = { /** * Apply the Decimal separator according to rules * @param {string} value value in units * @param {string} separator separator to be used * @returns {string} text to be used * @memberof app.stringtable */ applyDecimalSeparator: function (value, separator) { var size, decPart, intPart; value = parseInt(value, 10); if (value === 0) { value = '000'; } else { value = value.toString(); } size = value.length; decPart = value.substr(size - 2, 2); intPart = value.substr(0, size - 2); if (intPart === '') { intPart = '0'; } if (decPart.length === 1) { decPart = '0' + decPart; } return intPart + separator + decPart; }, /** * Apply money curency simbols * @param {string} value value to receive the money mask * @returns {string} value with money mask * @memberof app.stringtable */ fixMoneyCurrency: function (value) { var valueStr = this.applyDecimalSeparator(value, root.app.strings.labelList.KEY_CURRENCY_SEPARATOR); if (root.app.strings.labelList.KEY_CURRENCY_DIRECTION === &quot;rtl&quot;) { return valueStr + &quot; &quot; + root.app.strings.labelList.KEY_CURRENCY_SYMBOL; } // Default is ltr return root.app.strings.labelList.KEY_CURRENCY_SYMBOL + &quot; &quot; + valueStr; }, /** * Apply a date mask * @param {string} value Date Value to be formatted * @returns {string} the value with mask * @memberof app.stringtable */ applyDateMask: function (value) { function strpad(str) { return (!isNaN(str) &amp;&amp; str.toString().length === 1) ? &quot;0&quot; + str : str; } var day, month, year, date, strDate = root.app.strings.labelList.KEY_DATE_MASK; if (isNaN(value)) { day = parseInt(value.substr(0, 2), 10); month = parseInt(value.substr(3, 2), 10); year = value.substr(6, 4); } else { date = new Date(parseInt(value, 10)); day = date.getDate(); month = date.getMonth() + 1; year = date.getFullYear(); } strDate = strDate.replace(&quot;%d&quot;, strpad(day.toString())); strDate = strDate.replace(&quot;%j&quot;, day); strDate = strDate.replace(&quot;%m&quot;, strpad(month.toString())); strDate = strDate.replace(&quot;%M&quot;, root.app.strings.labelList.KEY_DATE_MONTHS[month - 1].substr(0, 3)); strDate = strDate.replace(&quot;%n&quot;, month); strDate = strDate.replace(&quot;%F&quot;, root.app.strings.labelList.KEY_DATE_MONTHS[month - 1]); strDate = strDate.replace(&quot;%Y&quot;, year); strDate = strDate.replace(&quot;%y&quot;, year.toString().substr(2, 2)); return strDate; }, /** * Apply translation to html elements * @param {collection} node Zepto nodes to be transalated * @memberof app.stringtable */ applyLabels: function (node) { $(&quot;.translatable&quot;, node).each(function () { var $this = $(this), stringKey = $this.text().trim(); if (root.app.strings.labelList[stringKey]) { $this.text(root.app.strings.labelList[stringKey]); } $this.removeClass(&quot;translatable&quot;); }); $(&quot;.moneyValue&quot;, node).each(function () { var $this = $(this), moneyKey = $this.text().trim(); $this.text(app.stringtable.fixMoneyCurrency(moneyKey)); $this.removeClass(&quot;moneyValue&quot;); }); $(&quot;.dateValue&quot;, node).each(function () { var $this = $(this), dateValue = $this.text(); $this.text(app.stringtable.applyDateMask(dateValue)); $this.removeClass(&quot;dateValue&quot;); }); } }; root.app.stringtable = stringtable; }(window)); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"views_slider.js.html":{"id":"views_slider.js.html","title":"Source: views/slider.js","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Source: views/slider.js /*global app: false, Backbone: false, JST: false, $: false, require: false*/ /** * @fileoverview Footer Module * @author Rafael R Itajuba * @author Danilo Bevilacqua Scavassa * @author luis novo * @version 2.0.0 */ (function () { &quot;use strict&quot;; /** * Slider View. * * @name Slider * @class Slider View * @augments Backbone.View * @memberof app.view */ app.view.Slider = Backbone.View.extend( /** * @lends View.prototype */ { /** * current view * @memberof app.view.Slider */ current: null, /** * When the button 1 is clicked Sends a modal message alert * @param {Backbone.View} view View to be rendered * @memberof app.view.Slider */ show: function (view) { var me, newEl; me = this; // if a current view is set, it removes it if (me.current) { // If the view defines a remove method if (me.current.destroy) { me.current.destroy(); } // removes the current view me.current.undelegateEvents(); me.current.unbind(); me.current.remove(); me.current.$el[0] = null; } // Renders the view and saves it as the current one if (view &amp;&amp; view.render) { newEl = view.render(); app.stringtable.applyLabels(newEl); this.$el[0].appendChild(newEl); } me.current = view; // Calls the load function if present in the view setTimeout(function () { if (me.current.load) { me.current.load(); } }, 0); } } ); }()); × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"global.html":{"id":"global.html","title":"Global","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Global Type Definitions Translatable Could have more properties, for more languages Type: object Properties: Name Type Description key string Key Text (to be replaced) pt string Text in portuguese (generic) en string Text in english (generic) Source: core/strings.js, line 28 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Classes Classes Router Footer Header Slider Namespaces app appParameters core initializer mediator mod pos strings stringtable view Events modal Modal event, for alerts. Parameters: Name Type Description text string Text to show alertType string class to be applied to the alert element Source: services/modal.js, line 57 Listeners of This Event: ~modal.onModal viewchangefooter Parameters: Name Type Description enable boolean check if the footer is enabled (and visible) btn2Info object Information about btn1 btn1Info object Information about btn2 Source: views/footer.js, line 54 Listeners of This Event: app.view.Footer.onViewChange viewchangeheader Parameters: Name Type Description title collection Title Zepto nodes back collection Back button Source: views/header.js, line 38 Listeners of This Event: app.view.Header.onViewChange × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespaces Classes Router Footer Header Slider Namespaces app appParameters core initializer mediator mod pos strings stringtable view Events modal Modal event, for alerts. Parameters: Name Type Description text string Text to show alertType string class to be applied to the alert element Source: services/modal.js, line 57 Listeners of This Event: ~modal.onModal viewchangefooter Parameters: Name Type Description enable boolean check if the footer is enabled (and visible) btn2Info object Information about btn1 btn1Info object Information about btn2 Source: views/footer.js, line 54 Listeners of This Event: app.view.Footer.onViewChange viewchangeheader Parameters: Name Type Description title collection Title Zepto nodes back collection Back button Source: views/header.js, line 38 Listeners of This Event: app.view.Header.onViewChange × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Taxi ReservationApplication to call a taxi from Telium General NotesNotes applied to all HTML5 applications. Dev Environment Install Ruby and put its bin folder in the PATH environment variable Install compass using Ruby (for proxy, use --http-proxy http://&quot;[user]&quot;:&quot;[password]&quot;@[proxy_host]:[port] option) gem update --system gem install compass Install NodeJS and put its folder in the PATH environment variable Install Grunt globally using: npm install grunt-cli -g The command should output where Grunt will be installed, for instance, C:\\Users\\Admin\\AppData\\Roaming\\npm\\grunt. Put this folder in the PATH environment variable. If you are using a web proxy, a valid workaround is to config the proxy host on npm config. Note that the last line must be also used on bin/build.bat and bin/watch.bat and change [user], [password], [proxy_host] and [port] according to our environment. Use: set HTTPS_PROXY=http://&quot;[user]&quot;:&quot;[password]&quot;@[proxy_host]:[port] set HTTP_PROXY=http://&quot;[user]&quot;:&quot;[password]&quot;@[proxy_host]:[port] npm config set registry http://registry.npmjs.org/ npm config set proxy %HTTP_PROXY% npm config set https-proxy %HTTP_PROXY% npm config set strict-ssl false npm --proxy %HTTP_PROXY% --without-ssl --insecure -g install [package] Install Bower, used for project dependency management. Install PhantomJS used for automated tests Brackets recommended as code editor, with the following extensions: Brackets Exclude Indexing FileTree FuncDocr Emmet Beautify MarkdownPreview Build, Watch and TestsUse bin/build.bat to build and bin/watch.bat to generate css from sass and to pre-compiling jst templates.This configuration uses Static Analyses with JSLint and Unit Test with QUnit, Sinon and Istanbul (for test coverage reports).The app_template provides some tests for some core objects, and for basic application functionalities, like modules.For those tests to work, we recommend that all modules can be accessed in the app without setting previous objects. This way, the basic test wont fail if a var is not setted by another previous module, for example, before the module is constructed. If an object is indeed necessary, please, set it to a default value on the module.Every application should also implement its specific unit test cases.To run a standalone Unit test test/index.html.To generate test reports, use bin/build.bat and the reports will be saved in test/output/coverage/index.html and test/output/report/index.html for coverage report, and test/output/results/TEST-index.xml for Unit test reports.Use bin/release.bat to generate an release version in dist/ directory. This release version will also override and HEAD 0 in CHANGELOG.md and consts.version by the version specified on package.json. Once a release is made, the CHANGELOG.md must include another HEAD 0 and the package.json must be updated with a new version, otherwise the new release will fail.There is also a bin/packing.bat that validates if there is any pending changes to commit, and is used after the release to ensure that nothing is left uncommitted. If everything is OK, then a zip package is generated with the application folder, and the ignored files and directories in subversion are ignored to generate this package. This script needs 7zip and subversion to be on PATH environment variable.If you need a clean build, use bin/clean.bat to delete node_modules and clean npm cache's. SVN tricksUse the command below to ignore all the non-essentials project files. svn propset svn:ignore -RF svn-ignore.txt .And for deleting .orig from merge tool. Remove /p to non-prompt. del /s /p *.origProject Basic Structure (Single Page Application) .brackets.json - Config file for Brackets, with some ignored dirs Gruntfile.js - Grunt config file, with automated tasks package.json - npm packages to be installed with npm install jsdoc.json - JSDoc configuration file, to be used with ink-docstrap bin/ - folder with custom binaries and executables bin/clean.bat - Clean NPM dependencies, to start from scratch bin/build.bat - Execute 3 tasks: generate dist files (Build) unit test the application (Test) and run static analyses (Lint) bin/watch.bat - Generate .css from sass (.scss) and combined.js from JST templates (.tpl) until it is closed. bin/packing.bat - Exports a zip from svn, checking if there is a new version and if there is nothing more to commit bin/release.bat - Generate release with semver from package.json dist/ - Distributable folder, with compressed files (gets cleaned every build) doc/ - folder with documentation for app src/ - Application source folder src/.bowerrc and src/bower.json - Bower config files, that is used to manager application libs src/config.rb - Compass config file, with css destination file src/config-require.js - Application config of loading components, to be used by requirejs in app development environment and test environment src/consts.js - Application specific constants, doesn't get minified nor combined. src/index.html - Single page for application src/app/ - folder with application .js files src/app/app.js - Application main file src/app/init.js - Bootstrap application. Initialization of app components and mocked data goes here. src/app/load.js - requirejs load file, just to start src/app/init.js src/app/collections/ - folder with Backbone collections files src/app/core/ - folder with core files src/app/core/appParameters.js - app parameters (like appName) src/app/core/mediator.js - fire services and views like footer and header src/app/core/core.js - abstract location, print and other core functions src/app/core/pos.js - integrated with PoS functions src/app/core/strings.js - Strings in i18n and its loading src/app/core/stringtable.js - helper functions to i18n src/app/models/ - folder with Backbone models files (like user.js or product.js) src/app/modules/ - folder with view modules files (like src/app/modules/home/view.js). On most cases, home is the module that is initialized after the splash screen. src/app/services/ - folder with application services files, like modal.js src/app/templates/ - folder with template .tpl files, that will be wrapped in js functions in src/app/templates/compiled/compiled.js~~ src/app/templates/compiled/compiled.js - JST compiled file, from .tpl files on src/app/templates/ src/app/views/ - folder with views for header, footer and slider src/app/views/footer.js - View for footer, with usually 2 buttons. src/app/views/header.js - View for header, with a title and a back button. src/app/views/slider.js - View for slider, responsible for application flow (change of views). src/css/ - folder with application STATIC .css files src/css/app.css - App static css, generated by src/sass/app.scss sass file, with compass src/css/reset.css - Clear css properties src/data/ - folder with application data files, like base64 images src/data/data.js - data-include Grunt plug-in will search for include directives like /*include -bu order-appetizer.jpg */ and, on the case of the example convert the image in base64, to be saved on a similar data.js, called src/data/include.data.js src/data/include.data.js - Generated to simulate API behaiour src/fonts/ - folder with application font files src/libs/ - folder with application dependencies (like zepto, backbone and requirejs). Managed by bower. src/sass/ - folder with application .scss files src/sass/app.scss - , to be used by compass to generate src/css/app.css test/index.html - Run application Unit Tests test/tests-require.js - Load Unit tests using requirejs test/app/ - Unit test folder test/libs/ - Test libs, Sinon and QUnit test/output/ - Test Reports output folder (gets cleaned every build) Application NotesNotes applied only to this specific application. MapProxyThis application uses MapProxy as service for routing. Please, edit consts.js var's 'maphost' to a valid MapProxy service endpoint. CHANGELOG2.0.0 (May 10, 2016) Update from app_template#1.0.0 New TetraJS and other libraries update Fixing unit test engine Updating dev dependencies Update basic README with new informations 1.1.2 (December 16, 2014) Added skip button Show prices in dollar Applied CSS to use application in widescreen Include map size to return in client.js 1.1.1 Receipt location is same as search 1.1.0 (October 29, 2014) Make reactivy faster using mouseup Add maphost on grunt Change default location Make back btn bigger Image optimisation 1.0.0 (October 27, 2014) Version Without splash screen js code (only splash image on top-level) byPassReadCard Fix payment implementation 0.0.6 (October 20, 2014) Integrate with telium lib and apply the treatment for pay with KO or OK Change EO in log to 2% of total value 0.0.5 (October 15, 2014) Receipt in 384px width More tests Experiment to preventing multiple clicks on printing receipt 0.0.4 (October 7, 2014) New CHANGELOG and README using Markdown. Unit tests Receipt in 275px width Integrated with Telium lib for payment. 0.0.3 (September 18, 2014) Log according to JSONLog_version: 1.0 0.0.2 (August 25, 2014) Printing Receipt BUG: &quot;&lt;!DOCTYPE html&gt;&quot; directive causes window.print() miss 40px on print receipt. (without it, the receipt is formatted correctly) Please, change all vars and properties in consts.js, like log_endpoint, according to your env. Dynamic Map Several UI and flow changes. 0.0.1 (August 1, 2014) Template pré-compiling, node cache, css review. Index src/app/app.js Application Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa luis novo Source: app.js, line 3 Index src/app/core/appParameters.js AppParameters Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa Source: core/appParameters.js, line 3 Index src/app/core/core.js Core Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa Source: core/core.js, line 3 Index src/app/core/mediator.js Mediator Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa luis novo Source: core/mediator.js, line 1 Index src/app/core/pos.js PoS Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa Source: core/pos.js, line 3 Index src/app/core/strings.js Strings Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa Source: core/strings.js, line 1 Index src/app/core/stringtable.js Stringtable Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa Source: core/stringtable.js, line 3 Index src/app/init.js Bootstraps the application Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa Source: init.js, line 3 Index src/app/services/modal.js Modal Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa luis novo Source: services/modal.js, line 3 Index src/app/views/footer.js Footer Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa luis novo Source: views/footer.js, line 3 Index src/app/views/header.js Header Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa luis novo Source: views/header.js, line 3 Index src/app/views/slider.js Footer Module Version: 2.0.0 Author: Rafael R Itajuba Danilo Bevilacqua Scavassa luis novo Source: views/slider.js, line 3 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.html":{"id":"app.html","title":"Namespace: app","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: app app Application Namespace. Source: app.js, line 13 Classes Router Namespaces appParameters core initializer mediator mod pos strings stringtable view Members &lt;inner&gt; footer instance of Footer Source: init.js, line 75 See: app.view.Footer &lt;inner&gt; header instance of Header Source: init.js, line 64 See: app.view.Header &lt;inner&gt; slider instance of Router Source: init.js, line 97 See: app.Router &lt;inner&gt; slider instance of Slider Source: init.js, line 86 See: app.view.Slider × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.appParameters.html":{"id":"app.appParameters.html","title":"Namespace: appParameters","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: appParameters app. appParameters Properties: Name Type Description config object configuration parameters Properties Name Type Description appName string application name, accessible from code version string application version, accessible from code Source: core/appParameters.js, line 12 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.core.html":{"id":"app.core.html","title":"Namespace: core","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: core app. core Core Functions Source: core/core.js, line 12 Methods &lt;static&gt; load(page) Load a page, can be backed Parameters: Name Type Description page string Page Id, with or without # Source: core/core.js, line 23 &lt;static&gt; print() Calls window.print() Source: core/core.js, line 52 &lt;static&gt; replace(page) Replace a page, overriding the actual page (back occours as the previous page never existed) Parameters: Name Type Description page string Page Id, with or withou # Source: core/core.js, line 38 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.initializer.html":{"id":"app.initializer.html","title":"Namespace: initializer","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: initializer app. initializer Initializer for DI in test env Source: init.js, line 13 Methods &lt;static&gt; cache() init image cache Source: init.js, line 24 &lt;static&gt; data() init offline data Source: init.js, line 54 &lt;static&gt; system() init system Source: init.js, line 62 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.mediator.html":{"id":"app.mediator.html","title":"Namespace: mediator","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: mediator app. mediator Mediator for Backbone Source: core/mediator.js, line 11 Methods &lt;static&gt; fire(method, args) Fires a method call with a series or agruments Parameters: Name Type Description method string Name of the method to fire args array Arguments to attach to the event Source: core/mediator.js, line 74 &lt;static&gt; on(method, callback, scope) Subscribes to a call Parameters: Name Type Description method string Name of the method to subscribe callback function Funciton to call when we fire the event scope object Context to which to bind the callback Source: core/mediator.js, line 25 &lt;static&gt; un(method, callback, scope) Unsuscribes from a call Parameters: Name Type Description method string Name of the method to subscribe callback function Funciton to call when we fire the event scope object Context to which to bind the callback Source: core/mediator.js, line 46 Events modal Modal event, for alerts. Parameters: Name Type Description text string Text to show alertType string class to be applied to the alert element Source: services/modal.js, line 57 Listeners of This Event: ~modal.onModal viewchangefooter Parameters: Name Type Description enable boolean check if the footer is enabled (and visible) btn2Info object Information about btn1 btn1Info object Information about btn2 Source: views/footer.js, line 54 Listeners of This Event: app.view.Footer.onViewChange viewchangeheader Parameters: Name Type Description title collection Title Zepto nodes back collection Back button Source: views/header.js, line 38 Listeners of This Event: app.view.Header.onViewChange × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.mod.html":{"id":"app.mod.html","title":"Namespace: mod","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: mod app. mod Modules Namespace. Source: app.js, line 29 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.pos.html":{"id":"app.pos.html","title":"Namespace: pos","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: pos app. pos PoS abstract function Source: core/pos.js, line 12 Members &lt;static&gt; chipService Properties: Name Type Description chipService service Contact Chip Service Source: core/pos.js, line 29 &lt;static&gt; contactLessService Properties: Name Type Description contactLessService service Contactless Service Source: core/pos.js, line 58 &lt;static&gt; loyaltyService Properties: Name Type Description loyaltyService service Loyalty Service Source: core/pos.js, line 38 &lt;static&gt; timeout Properties: Name Type Description timeout value Timer for polling Source: core/pos.js, line 23 &lt;static&gt; transacService Properties: Name Type Description transacService service EMV Transaction Service Source: core/pos.js, line 49 Methods &lt;static&gt; doTransaction(value, callback) Read the card. Parameters: Name Type Argument Description value integer Value to be charged, in units callback function &lt;optional&gt; Executed on finished Source: core/pos.js, line 69 &lt;static&gt; isCardPresent(callback) Just check if the card is present Parameters: Name Type Argument Description callback function &lt;optional&gt; Executed on finished Source: core/pos.js, line 171 &lt;static&gt; readLoyaltyCard(callback, error) Read the loyalty card. Parameters: Name Type Argument Description callback function Executed on finished error function &lt;optional&gt; Executed on error Source: core/pos.js, line 194 &lt;static&gt; startDetectChip(callback) Wait until the card inserted. Parameters: Name Type Argument Description callback function &lt;optional&gt; Executed on finished Source: core/pos.js, line 120 &lt;static&gt; startDetectNFC(callback, error) Get a Voucher with NFC Parameters: Name Type Argument Description callback function callback to success error function &lt;optional&gt; callback to error Source: core/pos.js, line 223 &lt;static&gt; stopDetectChip() Stop waiting for a chip insertion event Source: core/pos.js, line 153 &lt;static&gt; stopDetectNFC() Cancel the NFC reading Source: core/pos.js, line 264 &lt;static&gt; waitPaymentBySmartphone(callback) Wait a payment by SmartphoneIt is a fake function, for now Parameters: Name Type Description callback function callback to when the service responds with data about the transaction Source: core/pos.js, line 283 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.Router.html":{"id":"app.Router.html","title":"Class: Router","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Class: Router app. Router Backbone Router new Router() Router Extended for this app. Source: app.js, line 39 Extends Backbone.Router Members &lt;static&gt; routes :object.&lt;string, string&gt; Defines the main routes of the appWe have one fixed route, the home / routeAnd then a dynamic route, which loads modules dynamically (based on a namespace) Type: object.&lt;string, string&gt; Properties: Name Type Description '' string Function name to default route '*actions' string Function name to any other action Source: app.js, line 61 Methods &lt;static&gt; goToPage(id) Goes to a page with a certain id Parameters: Name Type Description id string page id Source: app.js, line 80 Fires: app.mediator#event:modal if page is not found &lt;static&gt; main() Load the home page route Source: app.js, line 70 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.strings.html":{"id":"app.strings.html","title":"Namespace: strings","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: strings app. strings String list for i18n Source: core/strings.js, line 15 Members &lt;static&gt; labelList :Object.&lt;string, string&gt; Transation cache Type: Object.&lt;string, string&gt; Source: core/strings.js, line 26 &lt;static&gt; translationList :Array.&lt;Translatable&gt; Type: Array.&lt;Translatable&gt; Source: core/strings.js, line 40 Methods &lt;static&gt; load(language) Load labelList from a given language Parameters: Name Type Description language string language code (like pt-BR) to be loaded Source: core/strings.js, line 270 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.stringtable.html":{"id":"app.stringtable.html","title":"Namespace: stringtable","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: stringtable app. stringtable String Translation Methods Source: core/stringtable.js, line 12 Methods &lt;static&gt; applyDateMask(value) → {string} Apply a date mask Parameters: Name Type Description value string Date Value to be formatted Source: core/stringtable.js, line 74 Returns: the value with mask Type string &lt;static&gt; applyDecimalSeparator(value, separator) → {string} Apply the Decimal separator according to rules Parameters: Name Type Description value string value in units separator string separator to be used Source: core/stringtable.js, line 26 Returns: text to be used Type string &lt;static&gt; applyLabels(node) Apply translation to html elements Parameters: Name Type Description node collection Zepto nodes to be transalated Source: core/stringtable.js, line 115 &lt;static&gt; fixMoneyCurrency(value) → {string} Apply money curency simbols Parameters: Name Type Description value string value to receive the money mask Source: core/stringtable.js, line 57 Returns: value with money mask Type string × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.view.html":{"id":"app.view.html","title":"Namespace: view","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Namespace: view app. view Views Namespace. Source: app.js, line 21 Classes Footer Header Slider × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.view.Footer.html":{"id":"app.view.Footer.html","title":"Class: Footer","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Class: Footer app.view. Footer Footer View new Footer() Footer View. Source: views/footer.js, line 13 Extends Backbone.View Members &lt;static&gt; button1Info Button1 representation Properties: Name Type Description callback function event to fire when click nextPage string page id to go when click Source: views/footer.js, line 33 &lt;static&gt; button2Info Button2 representation Properties: Name Type Description callback function event to fire when click nextPage string page id to go when click Source: views/footer.js, line 44 &lt;static&gt; events :object.&lt;string, string&gt; Events Type: object.&lt;string, string&gt; Properties: Name Type Argument Description 'mouseup .btn1' string &lt;optional&gt; event to fire when click 'mouseup .btn2' string &lt;optional&gt; event to fire when click Source: views/footer.js, line 121 Methods &lt;static&gt; initialize() initializes the footer view Source: views/footer.js, line 53 &lt;static&gt; onButton(e) When the button 1 is clicked change to hover and after some time goes to next screen Parameters: Name Type Description e object element clicked Source: views/footer.js, line 132 Listens to Events: app.view.Footer#event:mouseup &lt;static&gt; onViewChange(enable, btn2Info, btn1Info) Enable footer and configure buttons label, next page and function to be executer on button Parameters: Name Type Description enable boolean check if the footer is enabled (and visible) btn2Info object Information about btn1 btn1Info object Information about btn2 Source: views/footer.js, line 71 Listens to Events: app.mediator#event:viewchangefooter × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.view.Header.html":{"id":"app.view.Header.html","title":"Class: Header","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Class: Header app.view. Header Header View new Header() Header View. Source: views/header.js, line 13 Extends Backbone.View Members &lt;static&gt; backTo Used when there is a need to back to a specific place Source: views/header.js, line 30 &lt;static&gt; events :object.&lt;string, string&gt; Declares the event listeners Type: object.&lt;string, string&gt; Properties: Name Type Argument Description 'mouseup .back' string &lt;optional&gt; event to fire when click Source: views/header.js, line 52 Methods &lt;static&gt; goBack() function fired when the goback arrow was clicked Source: views/header.js, line 86 Listens to Events: app.view.Header#event:mouseup &lt;static&gt; initialize() initializes the header view Source: views/header.js, line 36 &lt;static&gt; onViewChange(title, back) Sets the title of the header (and the back button if set) when a view changes Parameters: Name Type Description title collection Title Zepto nodes back collection Back button Source: views/header.js, line 63 Listens to Events: app.mediator#event:viewchangeheader × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "},"app.view.Slider.html":{"id":"app.view.Slider.html","title":"Class: Slider","body":" Taxi Reservation Namespaces appapp.appParametersapp.coreapp.initializerapp.mediatorapp.modapp.posapp.stringsapp.stringtableapp.view Classes app.Routerapp.view.Footerapp.view.Headerapp.view.Slider Events app.mediator#event:modalapp.mediator#event:viewchangefooterapp.mediator#event:viewchangeheader Global Global Class: Slider app.view. Slider Slider View new Slider() Slider View. Source: views/slider.js, line 14 Extends Backbone.View Members &lt;static&gt; current current view Source: views/slider.js, line 32 Methods &lt;static&gt; show(view) When the button 1 is clicked Sends a modal message alert Parameters: Name Type Description view Backbone.View View to be rendered Source: views/slider.js, line 39 × Search results Close Documentation generated by JSDoc 3.4.0 on Wed May 11th 2016 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
